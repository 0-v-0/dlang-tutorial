# 运算符

运算符是用于执行特定操作的符号。D语言提供了多种类型的运算符，包括算术运算符、关系运算符、逻辑运算符等。

## 算术运算符

算术运算符用于执行基本的数学运算。D语言支持以下算术运算符：

- `+`：加法运算符，用于将两个数相加。
- `-`：减法运算符，用于将一个数减去另一个数。
- `*`：乘法运算符，用于将两个数相乘。
- `/`：除法运算符，用于将一个数除以另一个数。
- `%`：取模运算符，用于计算两个数相除的余数。
- `^^`：幂运算符，例如`a^^b`表示计算a的b次幂。
- `++`：自增运算符，用于将变量的值增加1。
- `--`：自减运算符，用于将变量的值减少1。

以下是算术运算符的示例：

```d
int a = 10;
int b = 5;

int c = a + b;  // c的值为15
int d = a - b;  // d的值为5
int e = a * b;  // e的值为50
int f = a / b;  // f的值为2
int g = a % b;  // g的值为0
int h = a ^^ b;  // h的值为100_000

a++;  // a的值为11
b--;  // b的值为4
```

## 关系运算符

关系运算符用于比较两个值之间的关系。D语言支持以下关系运算符：

- `==`：等于运算符，用于判断两个值是否相等。
- `!=`：不等于运算符，用于判断两个值是否不相等。
- `>`：大于运算符，用于判断一个值是否大于另一个值。
- `<`：小于运算符，用于判断一个值是否小于另一个值。
- `>=`：大于等于运算符，用于判断一个值是否大于或等于另一个值。
- `<=`：小于等于运算符，用于判断一个值是否小于或等于另一个值。

以下是关系运算符的示例：

```d
int a = 10;
int b = 5;

bool c = a == b;  // c的值为false
bool d = a != b;  // d的值为true
bool e = a > b;   // e的值为true
bool f = a < b;   // f的值为false
bool g = a >= b;  // g的值为true
bool h = a <= b;  // h的值为false
```

## 逻辑运算符

逻辑运算符用于对布尔值进行操作。D语言支持以下逻辑运算符：

- `&&`：逻辑与运算符，用于判断两个条件是否同时成立。
- `||`：逻辑或运算符，用于判断两个条件是否至少有一个成立。
- `!`：逻辑非运算符，用于取反一个条件。

以下是逻辑运算符的示例：

```d
bool a = true;
bool b = false;

bool c = a && b;  // c的值为false
bool d = a || b;  // d的值为true
bool e = !a;       // e的值为false
```

## 条件运算符

条件运算符也称为三元运算符，用于根据条件选择不同的值。条件运算符使用`? :`的语法。

以下是条件运算符的示例：

```d
int a = 10;
int b = 5;

int max = a > b ? a : b;  // max的值为10
```

## 位运算符

位运算符用于对二进制数进行操作。D语言支持以下位运算符：

- `&`：按位与运算符，用于对两个数的每个位进行与操作。
- `|`：按位或运算符，用于对两个数的每个位进行或操作。
- `^`：按位异或运算符，用于对两个数的每个位进行异或操作。
- `~`：按位取反运算符，用于对一个数的每个位进行取反操作。
- `<<`：左移运算符，用于将一个数的每个位向左移动指定的位数。
- `>>`：右移运算符，用于将一个数的每个位向右移动指定的位数。

以下是位运算符的示例：

```d
int a = 5;  // 二进制表示为0101
int b = 3;  // 二进制表示为0011

int c = a & b;  // 1 (0b0001)
int d = a | b;  // 7 (0b0111)
int e = a ^ b;  // 6 (0b0110)
int f = ~a;     // -6，二进制表示为11111111111111111111111111111010
int g = a << 2; // 20 (0b10100)
int h = a >> 1; // 2 (0b0010)
```

## 赋值运算符

赋值运算符用于将一个值赋给一个变量。赋值运算符分为简单赋值运算符和组合赋值运算符：

- 简单赋值运算符（`=`）
- 组合赋值运算符
    - `+=`：加法赋值运算符
    - `-=`：减法赋值运算符
    - `*=`：乘法赋值运算符
    - `/=`：除法赋值运算符
    - `%=`：取模赋值运算符
    - `^^=`：幂赋值运算符
    - `<<=`：左移赋值运算符
    - `>>=`：右移赋值运算符
    - `&=`：按位与赋值运算符
    - `|=`：按位或赋值运算符
    - `^=`：按位异或赋值运算符
    - `~=`：连接赋值运算符

例如，加法赋值运算`a += b`相当于`a = a + b`

以下是赋值运算符的示例：

```d
int a = 10;
int b = 5;

a = b;    // a=5
a += b;   // a=10
a -= b;   // a=5
```

## 连接运算符

连接运算符用于连接两个字符串。D语言使用`~`作为连接运算符。

以下是连接运算符的示例：

```d
string a = "Hello";
string b = "World";

string c = a ~ b;  // "HelloWorld"
```

## 转换运算符

转换运算符用于将一个类型的值转换为另一个类型。D语言使用`cast`执行显式类型转换

以下是类型转换的示例：

```d
int a = 10;
float b = a;  // 隐式类型转换

float c = 10.5;
int d = cast(int)c; // 显式类型转换
```

## 逗号运算符

逗号运算符用于在一个语句中执行多个表达式，并返回最后一个表达式的值。D语言使用逗号作为逗号运算符。

以下是逗号运算符的示例：

```d
int a = 10, b = 5, c = 15;
int d = (a++, b++, c++);  // d的值为15，a的值为11，b的值为6，c的值为16
```

## 切片运算符

切片运算符用于从数组或字符串中获取一个子序列。

以下是切片运算符的示例：

```d
int[] a = [1, 2, 3, 4, 5];
int[] b = a[1 .. 3];  // b的值为[2, 3]

string c = "Hello, World!";
string d = c[7 .. 12];  // d的值为"World"

int[3] e;
int[] f = e[]; // 将静态数组转换为切片
```

## 其他运算符
- 取地址运算符：`&x`表示变量x的地址
- 解引用运算符：`*p`表示指针p所指地址的值
- 长度运算符：该运算符只能出现在`[]`中，不可单独使用，例如`a[1 .. $]`表示截取从下标1开始到末尾的子序列
